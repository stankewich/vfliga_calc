# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–∞–≤–∞

## –û–±–∑–æ—Ä

–ü—Ä–æ–≤–µ–¥–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Å—Ç–∞–≤–æ–≤ –∫–æ–º–∞–Ω–¥ Virtual Soccer Calculator. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

## –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–∞–≤–∞

#### `checkLineupExists(orderDay)`
**–°—Ç–∞—Ç—É—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: ‚úÖ –û–¢–õ–ò–ß–ù–´–ô**

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `console.group()`
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É –∏–≥—Ä–æ–∫—É
- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å —á–µ—Ç–∫–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```javascript
console.group('üîç [LineupCheck] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–æ—Å—Ç–∞–≤–∞');
console.log('üìÖ Order Day:', orderDay);
console.log('üåê –ó–∞–ø—Ä–æ—Å –∫ URL:', url);
console.log('üéØ –ù–∞–π–¥–µ–Ω–æ —Å–µ–ª–µ–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–æ–≤:', playerSelects.length);
console.log('üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:', {
    '–í—Å–µ–≥–æ —Å–µ–ª–µ–∫—Ç–æ–≤': playersCount,
    '–í—ã–±—Ä–∞–Ω–æ –∏–≥—Ä–æ–∫–æ–≤': validPlayers,
    '–ï—Å—Ç—å —Å–æ—Å—Ç–∞–≤': hasLineup ? '‚úÖ –î–ê' : '‚ùå –ù–ï–¢'
});
```

#### `loadLineupFromOrder(orderDay)`
**–°—Ç–∞—Ç—É—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: ‚úÖ –û–¢–õ–ò–ß–ù–´–ô**

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º –∏–≥—Ä–æ–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤ –∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –î–µ—Ç–∞–ª–∏ –æ –∫–∞–ø–∏—Ç–∞–Ω–µ –∏ —Å—Ç–∏–ª–µ –∏–≥—Ä—ã
- –ü–æ–ª–Ω–∞—è –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```javascript
console.group('üì• [LineupLoad] –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–∞–≤–∞ –∏–∑ —Ñ–æ—Ä–º—ã');
console.log('üë• –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∏:');
playerDetails.forEach(detail => {
    console.log(`  ‚úÖ –ü–æ–∑–∏—Ü–∏—è ${detail.position}: ${detail.player.playerName} (ID: ${detail.player.playerId}) [${detail.method}]`);
});
console.log('üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', {
    '–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–≥—Ä–æ–∫–æ–≤': Object.keys(lineup).length,
    '–ö–∞–ø–∏—Ç–∞–Ω': captain ? `ID: ${captain}` : '–Ω–µ –≤—ã–±—Ä–∞–Ω',
    '–°—Ç–∏–ª—å –∏–≥—Ä—ã': gameStyle
});
```

### 2. –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞

#### `applyLoadedLineup(loadedLineup, homePlayers)`
**–°—Ç–∞—Ç—É—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–´–ô**

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–¢–µ–∫—É—â–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```javascript
// –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
catch (error) {
    console.error('[LineupApply] Error applying lineup:', error);
    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞');
}
```

### 3. –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

#### `init()`
**–°—Ç–∞—Ç—É—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: ‚úÖ –•–û–†–û–®–ò–ô**

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```javascript
console.group('üöÄ [INIT] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VF Liga Calculator');
console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:', {
    'Body attribute': bodyMode,
    'URL hash': hashMode,
    'LocalStorage': storageMode,
    '–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º': isCalculatorMode ? '–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†' : '–ü–†–ï–í–¨–Æ'
});
```

### 4. –°–∏—Å—Ç–µ–º–∞ —Ä—É–±–∞—à–µ–∫

#### –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è –ë–ê–ó–û–í–´–ô

**–¢–µ–∫—É—â–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```javascript
console.log('[Shirts] Using cached shirts for team', teamId);
console.log('[Shirts] No matches found for team', teamId);
console.error('[Shirts] Error getting shirts for team', teamId, error);
console.log('[Shirts] Initializing shirts system');
console.log('[Shirts] Got shirts', { homeShirts, awayShirts });
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ù–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –£–ª—É—á—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `applyLoadedLineup`

```javascript
function applyLoadedLineup(loadedLineup, homePlayers) {
    console.group('üîÑ [LineupApply] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞');
    console.log('üìä –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', {
        '–ò–≥—Ä–æ–∫–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ': Object.keys(loadedLineup.lineup || {}).length,
        '–ö–∞–ø–∏—Ç–∞–Ω': loadedLineup.captain || '–Ω–µ —É–∫–∞–∑–∞–Ω',
        '–°—Ç–∏–ª—å –∏–≥—Ä—ã': loadedLineup.gameStyle || '–Ω–µ —É–∫–∞–∑–∞–Ω',
        '–î–æ—Å—Ç—É–ø–Ω–æ –∏–≥—Ä–æ–∫–æ–≤': homePlayers.length
    });

    if (!loadedLineup || !window.homeLineupBlock) {
        console.warn('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞');
        console.groupEnd();
        return;
    }

    try {
        let appliedPlayers = 0;
        let appliedPositions = 0;
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º
        Object.keys(loadedLineup.lineup).forEach(posIndex => {
            const lineupData = loadedLineup.lineup[posIndex];
            const slot = window.homeLineupBlock.lineup[parseInt(posIndex)];
            
            if (slot && lineupData.playerId) {
                const player = homePlayers.find(p => String(p.id) === String(lineupData.playerId));
                if (player) {
                    slot.setValue(lineupData.playerId, player.name);
                    appliedPlayers++;
                    console.log(`  ‚úÖ –ü–æ–∑–∏—Ü–∏—è ${posIndex}: ${player.name} (ID: ${lineupData.playerId})`);
                    
                    if (lineupData.position) {
                        slot.posValue = lineupData.position;
                        if (slot.positionSelect) {
                            slot.positionSelect.value = lineupData.position;
                            appliedPositions++;
                            console.log(`    üìç –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è: ${lineupData.position}`);
                        }
                    }
                } else {
                    console.warn(`  ‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: ID ${lineupData.playerId}`);
                }
            }
        });

        // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–ø–∏—Ç–∞–Ω–∞
        if (loadedLineup.captain && window.homeLineupBlock.captainSelect) {
            window.homeLineupBlock.captainSelect.value = loadedLineup.captain;
            console.log(`üëë –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–ø–∏—Ç–∞–Ω: ID ${loadedLineup.captain}`);
        }

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∏–≥—Ä—ã
        if (loadedLineup.gameStyle && window.homeStyle) {
            window.homeStyle.value = loadedLineup.gameStyle;
            console.log(`‚öΩ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å—Ç–∏–ª—å –∏–≥—Ä—ã: ${loadedLineup.gameStyle}`);
        }

        console.log('üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:', {
            '–ü—Ä–∏–º–µ–Ω–µ–Ω–æ –∏–≥—Ä–æ–∫–æ–≤': appliedPlayers,
            '–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π': appliedPositions,
            '–ö–∞–ø–∏—Ç–∞–Ω': loadedLineup.captain ? '—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' : '–Ω–µ —É–∫–∞–∑–∞–Ω',
            '–°—Ç–∏–ª—å –∏–≥—Ä—ã': loadedLineup.gameStyle || '–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é'
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        if (typeof window.__vs_onLineupChanged === 'function') {
            window.__vs_onLineupChanged();
            console.log('üîÑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª–µ–Ω');
        }

        console.log('‚úÖ –°–æ—Å—Ç–∞–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω');
        console.groupEnd();
        alert('–°–æ—Å—Ç–∞–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω!');
        
    } catch (error) {
        console.error('üí• [LineupApply] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞:', {
            message: error.message,
            stack: error.stack,
            loadedLineup: loadedLineup
        });
        console.groupEnd();
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞');
    }
}
```

### 2. –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä—É–±–∞—à–µ–∫

```javascript
async function getTeamShirts(teamId) {
    console.group('üëï [Shirts] –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ—É—Ç–±–æ–ª–æ–∫ –∫–æ–º–∞–Ω–¥—ã');
    console.log('üÜî ID –∫–æ–º–∞–Ω–¥—ã:', teamId);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
    const cached = getCachedShirts(teamId);
    if (cached) {
        console.log('üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É—Ç–±–æ–ª–∫–∏');
        console.log('üëï –§—É—Ç–±–æ–ª–∫–∏ –∏–∑ –∫—ç—à–∞:', cached);
        console.groupEnd();
        return cached;
    }
    
    console.log('üîç –ö—ç—à –Ω–µ –Ω–∞–π–¥–µ–Ω, –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–∞—Ç—á–∞...');
    
    try {
        // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á
        console.log('üìÖ –ü–æ–∏—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–∞—Ç—á–∞...');
        const lastMatch = await getLastMatchForTeam(teamId);
        
        if (!lastMatch) {
            console.warn('‚ùå –ú–∞—Ç—á–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É—Ç–±–æ–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
            const defaultShirts = { gk: DEFAULT_GK_SHIRT, field: DEFAULT_SHIRT };
            console.log('üëï –§—É—Ç–±–æ–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:', defaultShirts);
            console.groupEnd();
            return defaultShirts;
        }
        
        console.log('‚úÖ –ù–∞–π–¥–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–∞—Ç—á:', lastMatch);
        
        // –ü–æ–ª—É—á–∞–µ–º —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É
        console.log('üìã –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∞—Ç—á–∞...');
        const shirts = await getMatchLineup(lastMatch.day, lastMatch.matchId, teamId);
        
        // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ —Ñ—É—Ç–±–æ–ª–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ
        if (!shirts.gk) {
            shirts.gk = DEFAULT_GK_SHIRT;
            console.log('‚ö†Ô∏è –§—É—Ç–±–æ–ª–∫–∞ –≤—Ä–∞—Ç–∞—Ä—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
        }
        if (!shirts.field) {
            shirts.field = DEFAULT_SHIRT;
            console.log('‚ö†Ô∏è –ü–æ–ª–µ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
        }
        
        console.log('üëï –ò—Ç–æ–≥–æ–≤—ã–µ —Ñ—É—Ç–±–æ–ª–∫–∏:', shirts);
        
        // –ö—ç—à–∏—Ä—É–µ–º
        setCachedShirts(teamId, shirts);
        console.log('üíæ –§—É—Ç–±–æ–ª–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à');
        
        console.groupEnd();
        return shirts;
        
    } catch (error) {
        console.error('üí• [Shirts] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ—É—Ç–±–æ–ª–æ–∫:', {
            teamId: teamId,
            message: error.message,
            stack: error.stack
        });
        
        const defaultShirts = { gk: DEFAULT_GK_SHIRT, field: DEFAULT_SHIRT };
        console.log('üëï –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—É—Ç–±–æ–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:', defaultShirts);
        console.groupEnd();
        return defaultShirts;
    }
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```javascript
const LOG_CONFIG = {
    ENABLED: true,
    LEVEL: {
        ERROR: 0,
        WARN: 1, 
        INFO: 2,
        DEBUG: 3
    },
    CURRENT_LEVEL: 2, // INFO –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    MODULES: {
        LINEUP: true,
        SHIRTS: true,
        INIT: true,
        APPLY: true
    }
};

function vsLog(level, module, message, data = null) {
    if (!LOG_CONFIG.ENABLED || !LOG_CONFIG.MODULES[module]) return;
    if (level > LOG_CONFIG.CURRENT_LEVEL) return;
    
    const timestamp = new Date().toISOString().substr(11, 12);
    const prefix = `[${timestamp}] [${module}]`;
    
    switch (level) {
        case LOG_CONFIG.LEVEL.ERROR:
            console.error(`üí• ${prefix}`, message, data);
            break;
        case LOG_CONFIG.LEVEL.WARN:
            console.warn(`‚ö†Ô∏è ${prefix}`, message, data);
            break;
        case LOG_CONFIG.LEVEL.INFO:
            console.log(`‚ÑπÔ∏è ${prefix}`, message, data);
            break;
        case LOG_CONFIG.LEVEL.DEBUG:
            console.log(`üîç ${prefix}`, message, data);
            break;
    }
}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
class PerformanceTracker {
    constructor() {
        this.timers = new Map();
    }
    
    start(operation) {
        this.timers.set(operation, performance.now());
        console.log(`‚è±Ô∏è [Perf] –ù–∞—á–∞–ª–æ –æ–ø–µ—Ä–∞—Ü–∏–∏: ${operation}`);
    }
    
    end(operation) {
        const startTime = this.timers.get(operation);
        if (startTime) {
            const duration = (performance.now() - startTime).toFixed(2);
            console.log(`‚ö° [Perf] –ó–∞–≤–µ—Ä—à–µ–Ω–æ: ${operation} (${duration}ms)`);
            this.timers.delete(operation);
            return duration;
        }
        return null;
    }
}

const perf = new PerformanceTracker();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
perf.start('checkLineupExists');
// ... –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ ...
perf.end('checkLineupExists');
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–∞–≤–∞ –≤ —Ü–µ–ª–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö `checkLineupExists` –∏ `loadLineupFromOrder`. –û—Å–Ω–æ–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:

1. **–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞** - —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–°–∏—Å—Ç–µ–º–∞ —Ä—É–±–∞—à–µ–∫** - –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** - –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
4. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—ç—Ç–∞–ø–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞–∏–±–æ–ª–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
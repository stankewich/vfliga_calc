# –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è Chemistry —Å–∏—Å—Ç–µ–º—ã

## –¶–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã Chemistry (–≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤) –∏ –∫–∞–∫ –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å.

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ú–∞—Å—Å–∏–≤ plrdat

–î–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JavaScript –º–∞—Å—Å–∏–≤–µ `plrdat`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç—ã `jPlayer`.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ jPlayer** (–∏–∑ `examples/jplayer.1.4.7.txt`):

```javascript
function jPlayer(b,a,c,e,d,f,h,g,k,l,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga) {
    this.plr_id = b;        // 0
    this.owner_team = a;    // 1
    this.name = c;          // 2
    this.surname = e;       // 3
    this.nat_id = d;        // 4 ‚Üê ID –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
    this.nat = f;           // 5 ‚Üê –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
    this.pos1 = h;          // 6
    this.pos2 = g;          // 7
    this.pos_id = k;        // 8
    this.age = l;           // 9
    this.str = m;           // 10
    // ... –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π ...
    this.hidden_style = K;  // 33 ‚Üê –°–∫—Ä—ã—Ç—ã–π —Å—Ç–∏–ª—å –∏–≥—Ä–æ–∫–∞
    // ...
}
```

### 2. –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è –¥–ª—è Chemistry

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã Chemistry –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

| –ò–Ω–¥–µ–∫—Å | –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|--------|------|----------|--------|
| `p[4]` | `nat_id` | ID –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ | `142` (–†–æ—Å—Å–∏—è) |
| `p[5]` | `nat` | –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ | `"–†–æ—Å—Å–∏—è"` |
| `p[33]` | `hidden_style` | –°–∫—Ä—ã—Ç—ã–π —Å—Ç–∏–ª—å –∏–≥—Ä–æ–∫–∞ | `"norm"`, `"sp"`, `"bb"`, `"brazil"`, `"tiki"`, `"kat"`, `"brit"` |

## –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

### –§—É–Ω–∫—Ü–∏—è extractPlayersFromPlrdat

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```javascript
function extractPlayersFromPlrdat(plrdat) {
    return plrdat.map(p => ({
        id: p[0],
        name: `${p[2]} ${p[3]}`,
        mainPos: p[6],
        secondPos: p[7],
        age: p[9],
        baseStrength: p[10],
        fatigue: p[12],
        form: p[13],
        form_mod: p[14],
        realStr: p[15],
        baseRealStr: p[15],
        abilities: `${p[16]} ${p[17]} ${p[18]} ${p[19]}`,
        real_status: p[31],
        real_sign: p[32],
        transfer: p[38],
        training: p[44]
    }));
}
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤–µ—Ä—Å–∏—è 0.933):**
```javascript
function extractPlayersFromPlrdat(plrdat) {
    return plrdat.map(p => ({
        id: p[0],
        name: `${p[2]} ${p[3]}`,
        nat_id: p[4],        // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ: ID –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
        nat: p[5],           // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ: –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
        mainPos: p[6],
        secondPos: p[7],
        age: p[9],
        baseStrength: p[10],
        fatigue: p[12],
        form: p[13],
        form_mod: p[14],
        realStr: p[15],
        baseRealStr: p[15],
        abilities: `${p[16]} ${p[17]} ${p[18]} ${p[19]}`,
        real_status: p[31],
        real_sign: p[32],
        hidden_style: p[33], // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ: –°–∫—Ä—ã—Ç—ã–π —Å—Ç–∏–ª—å –∏–≥—Ä–æ–∫–∞
        transfer: p[38],
        training: p[44]
    }));
}
```

## –û—Ç–ª–∞–¥–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–≤–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

**1. –í extractPlrdatFromHTML:**
```javascript
if (items.length > 0) {
    const firstPlayer = items[0];
    console.log('[plrdat] –ü–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫ - –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è chemistry:', {
        'p[0] id': firstPlayer[0],
        'p[2] name': firstPlayer[2],
        'p[3] surname': firstPlayer[3],
        'p[4] nat_id': firstPlayer[4],
        'p[5] nat': firstPlayer[5],
        'p[33] hidden_style': firstPlayer[33],
        'total_length': firstPlayer.length
    });
}
```

**2. –í loadTeamRoster (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏):**
```javascript
if (homePlayers.length > 0) {
    console.log('[Chemistry Debug] –ü—Ä–∏–º–µ—Ä –∏–≥—Ä–æ–∫–∞ —Ö–æ–∑—è–µ–≤:', {
        name: homePlayers[0].name,
        nat_id: homePlayers[0].nat_id,
        nat: homePlayers[0].nat,
        hidden_style: homePlayers[0].hidden_style
    });
}
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:

```
[plrdat] –ü–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫ - –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è chemistry: {
    p[0] id: 12345,
    p[2] name: "–ò–≤–∞–Ω",
    p[3] surname: "–ò–≤–∞–Ω–æ–≤",
    p[4] nat_id: 142,
    p[5] nat: "–†–æ—Å—Å–∏—è",
    p[33] hidden_style: "norm",
    total_length: 82
}

[Chemistry Debug] –ü—Ä–∏–º–µ—Ä –∏–≥—Ä–æ–∫–∞ —Ö–æ–∑—è–µ–≤: {
    name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    nat_id: 142,
    nat: "–†–æ—Å—Å–∏—è",
    hidden_style: "norm"
}
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Å—Ç–∏–ª—å —É –∏–≥—Ä–æ–∫–∞

**–°–∏–º–ø—Ç–æ–º:** –í –ª–æ–≥–∞—Ö –∏–≥—Ä–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑ —Å—Ç–∏–ª—è.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ò–Ω–¥–µ–∫—Å `p[33]` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –ü–æ–ª–µ –ø—É—Å—Ç–æ–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–≥—Ä–æ–∫–∏ –æ—Ç –õ–∏–≥–∏)
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 0.933+
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ (`total_length` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 82+)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏

**–°–∏–º–ø—Ç–æ–º:** –í –ª–æ–≥–∞—Ö –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π `[Chemistry Debug]`.

**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–≥ —Å–æ–∑–¥–∞–Ω –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–æ–≥ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π —Å—Ç–∏–ª–µ–π

```javascript
function areStylesInCollision(style1, style2) {
    if (!style1 || !style2 || style1 === 'norm' || style2 === 'norm') {
        return false;
    }
    
    const collisions = collision_bonuses[style1];
    return collisions && collisions[style2] !== undefined;
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–µ–π

```javascript
function areNationalitiesMatching(player1, player2) {
    return player1.nat_id && player2.nat_id && 
           player1.nat_id === player2.nat_id;
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–≥—Ä–æ–∫–∞ –æ—Ç –õ–∏–≥–∏

```javascript
function isLeaguePlayer(player) {
    // –ò–≥—Ä–æ–∫–∏ –æ—Ç –õ–∏–≥–∏ –Ω–µ –∏–º–µ—é—Ç —Å—Ç–∏–ª—è –∏–ª–∏ –∏–º–µ—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫
    return !player.hidden_style || player.hidden_style === '';
}
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–≥—Ä–æ–∫–∞
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö
4. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á—ë—Ç–∞ chemistry
5. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞—Å—á—ë—Ç–æ–º —Å–∏–ª—ã –∫–æ–º–∞–Ω–¥—ã

## –í—ã–≤–æ–¥—ã

- –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è Chemistry —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–∞—Å—Å–∏–≤–µ `plrdat`
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ–ª–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `jPlayer`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–æ–≤

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ID –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: –ø–æ–∑–∏—Ü–∏—è 0, ID 11178071
```

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–æ—Å—Ç–∞–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (20 –∏–≥—Ä–æ–∫–æ–≤)
- –ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∏ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ ID
- ID –∏–≥—Ä–æ–∫–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å ID –≤ —Ç–µ–∫—É—â–µ–º —Å–ø–∏—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã

## –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

1. **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤**: –°–æ—Å—Ç–∞–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç—É—Ä–Ω–∏—Ä–∞, –∞ –∏–≥—Ä–æ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–æ–≥–æ
2. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–æ—Å—Ç–∞–≤–µ –∫–æ–º–∞–Ω–¥—ã**: –ò–≥—Ä–æ–∫–∏ –º–æ–≥–ª–∏ –±—ã—Ç—å –ø—Ä–æ–¥–∞–Ω—ã/–∫—É–ø–ª–µ–Ω—ã
3. **–†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö**: mng_order.php vs roster.php –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞–∑–Ω—ã–µ ID

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞

–î–æ–±–∞–≤–ª–µ–Ω **fallback –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞**:

```javascript
// –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –ø–æ —Ç–æ—á–Ω–æ–º—É ID
let player = homePlayers.find(p => String(p.id) === String(lineupData.playerId));

// –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –∏—â–µ–º –ø–æ –∏–º–µ–Ω–∏
if (!player && lineupData.playerName) {
    player = homePlayers.find(p => {
        const nameMatch = p.name.toLowerCase().includes(lineupData.playerName.toLowerCase()) ||
                        lineupData.playerName.toLowerCase().includes(p.name.toLowerCase());
        return nameMatch;
    });
}
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

```javascript
console.log('üîç –û—Ç–ª–∞–¥–∫–∞ ID –∏–≥—Ä–æ–∫–æ–≤:');
console.log('üìã ID –∏–≥—Ä–æ–∫–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ:', Object.values(loadedLineup.lineup).map(p => p.playerId));
console.log('üë• ID –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤:', homePlayers.map(p => p.id));
```

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤

–î–æ–±–∞–≤–ª–µ–Ω fallback –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç—É—Ä–Ω–∏—Ä–æ–≤:

```javascript
// –ü—Ä–æ–±—É–µ–º —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–∏–ø —Ç—É—Ä–Ω–∏—Ä–∞
let players = await loadTeamRoster(teamId, tournamentType);

// –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø—Ä–æ–±—É–µ–º championship
if (players.length === 0 && tournamentType !== 'championship') {
    players = await loadTeamRoster(teamId, 'championship');
}

// –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø—Ä–æ–±—É–µ–º friendly
if (players.length === 0) {
    players = await loadTeamRoster(teamId, 'friendly');
}
```

### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–ø–∏—Ç–∞–Ω–∞

–ö–∞–ø–∏—Ç–∞–Ω —Ç–µ–ø–µ—Ä—å —Ç–∞–∫–∂–µ –∏—â–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ID:

```javascript
let captainPlayer = homePlayers.find(p => String(p.id) === String(loadedLineup.captain));

// –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –∏—â–µ–º —á–µ—Ä–µ–∑ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
if (!captainPlayer) {
    const captainFromFound = foundPlayers.find(fp => fp.originalId === loadedLineup.captain);
    if (captainFromFound) {
        captainPlayer = homePlayers.find(p => String(p.id) === String(captainFromFound.foundId));
    }
}
```

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è

```javascript
console.log('üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤:');
foundPlayers.forEach(fp => {
    if (fp.method === 'name_match') {
        console.log(`  üîÑ ${fp.name}: ${fp.originalId} ‚Üí ${fp.foundId} (–ø–æ –∏–º–µ–Ω–∏)`);
    } else {
        console.log(`  ‚úÖ ${fp.name}: ${fp.foundId} (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)`);
    }
});
```

### –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
–°–æ—Å—Ç–∞–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω: 11 –∏–≥—Ä–æ–∫–æ–≤

‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–≥—Ä–æ–∫–∏ –Ω–∞–π–¥–µ–Ω—ã –ø–æ –∏–º–µ–Ω–∏ (ID –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
üß™ –°—ã–≥—Ä–∞–Ω–Ω–æ—Å—Ç—å: 67.3%
üèüÔ∏è –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞: +2.0%
...
```

**–í –∫–æ–Ω—Å–æ–ª–∏:**
```
üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: {
  '–ü—Ä–∏–º–µ–Ω–µ–Ω–æ –∏–≥—Ä–æ–∫–æ–≤': 11,
  '–ù–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫': 0,
  '–¢–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ID': 8,
  '–°–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –∏–º–µ–Ω–∏': 3
}
```

## –ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤:
1. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ID** - —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
2. **–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏** - fallback –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö ID
3. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–º–µ–Ω** - –¥–ª—è –≤–∞—Ä–∏–∞—Ü–∏–π –Ω–∞–ø–∏—Å–∞–Ω–∏—è

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø–æ –∏–º–µ–Ω–∏:
```javascript
const nameMatch = p.name.toLowerCase().includes(lineupData.playerName.toLowerCase()) ||
                lineupData.playerName.toLowerCase().includes(p.name.toLowerCase());
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–π—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤ –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö —Ä–∞–∑–ª–∏—á–∏—è—Ö –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∏–º–µ–Ω.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: –ø–æ–∑–∏—Ü–∏—è 0, ID 11178071
‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω: –ø–æ–∑–∏—Ü–∏—è 1, ID 11178072
...
–°–æ—Å—Ç–∞–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω: 0 –∏–≥—Ä–æ–∫–æ–≤, 20 –æ—à–∏–±–æ–∫
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
üîÑ –ò–≤–∞–Ω–æ–≤ –ò.: 11178071 ‚Üí 11178099 (–ø–æ –∏–º–µ–Ω–∏)
‚úÖ –ü–µ—Ç—Ä–æ–≤ –ü.: 11178072 (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
...
–°–æ—Å—Ç–∞–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω: 20 –∏–≥—Ä–æ–∫–æ–≤

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
  –¢–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ID: 15
  –°–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –∏–º–µ–Ω–∏: 5
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∏–≥—Ä–æ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ ID
2. **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∫–∞–∂–¥—ã–º –∏–≥—Ä–æ–∫–æ–º
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Å–æ—Å—Ç–∞–≤–∞–º–∏
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç—É—Ä–Ω–∏—Ä–æ–≤
5. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤—Å–µ—Ö ID
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ID (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
- ‚úÖ –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∏–º–µ–Ω–∞–º
- ‚úÖ –°–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (ID + –∏–º–µ–Ω–∞)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–ø–∏—Ç–∞–Ω–∞ —Å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–º ID
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**: 95-100% –∏–≥—Ä–æ–∫–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: +0.1-0.3 —Å–µ–∫ –Ω–∞ –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∞–º
- **–¢–æ—á–Ω–æ—Å—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è**: 100% –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–µ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- `calc.user.js` - —É–ª—É—á—à–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `applyLoadedLineup` –∏ `loadTeamPlayersData`
- –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ **0.928**

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
- ID –∏–≥—Ä–æ–∫–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- –ú–µ—Ç–æ–¥—ã –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ